const scrollCue=(function(){let $f={},$e,$q;let resizeTimer=0,scrollEnable=true;let $op,$defaultOptions={duration:600,interval:-0.7,percentage:0.75};$f={setEvents:function(){window.addEventListener("load",$f.runQuery);window.addEventListener("scroll",function(){if(scrollEnable){requestAnimationFrame(function(){scrollEnable=true;$f.setQuery();$f.runQuery()});scrollEnable=false}});window.addEventListener("resize",function(){if(resizeTimer>0){clearTimeout(resizeTimer)}resizeTimer=setTimeout(function(){$f.searchElements();$f.setQuery();$f.runQuery()},200)})},setOptions:function(b,a){let resultOptions={};if(typeof b==="undefined"){return}Object.keys(b).forEach(function(c){if(Object.prototype.toString.call(b[c])==="[object Object]"){resultOptions[c]=$f.setOptions(b[c],a[c])}else{resultOptions[c]=b[c];if(typeof a!=="undefined"&&typeof a[c]!=="undefined"){resultOptions[c]=a[c]}}});return resultOptions},searchElements:function(){let parents,selector;$e=[];parents=document.querySelectorAll("[data-cues]:not([data-disabled])");for(let i=0;i<parents.length;i++){let parent=parents[i];for(let j=0;j<parent.children.length;j++){let child=parent.children[j];$f.setAttrPtoC(child,"data-cue",parent,"data-cues","");$f.setAttrPtoC(child,"data-duration",parent,"data-duration",false);$f.setAttrPtoC(child,"data-interval",parent,"data-interval",false);$f.setAttrPtoC(child,"data-sort",parent,"data-sort",false);$f.setAttrPtoC(child,"data-addClass",parent,"data-addClass",false);$f.setAttrPtoC(child,"data-group",parent,"data-group",false)}parent.setAttribute("data-disabled","true")}selector=document.querySelectorAll('[data-cue]:not([data-show="true"])');for(let i=0;i<selector.length;i++){let elm=selector[i];$e.push({elm:elm,cue:$f.getAttr(elm,"data-cue","fadeIn"),duration:Number($f.getAttr(elm,"data-duration",$op.duration)),interval:Number($f.getAttr(elm,"data-interval",$op.interval)),order:$f.getOrderNumber(elm),sort:$f.getAttr(elm,"data-sort",null),addClass:$f.getAttr(elm,"data-addClass",null),group:$f.getAttr(elm,"data-group",null)})}},sortElements:function(){let obj=arguments[0];let keys=[].slice.call(arguments).slice(1);for(let i=0;i<keys.length;i++){obj.sort(function(d,c){let asc=typeof keys[i][1]==="undefined"?true:keys[i][1];let key=keys[i][0];if(d[key]>c[key]){return asc?1:-1}if(d[key]<c[key]){return asc?-1:1}return 0})}},randElements:function(a){for(let i=a.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));let tmp=a[i];a[i]=a[j];a[j]=tmp}return a},setDurationValue:function(b,a,c){if(typeof a==="undefined"){return b}let result=b;let pDura=a.duration;if(!((c+"").indexOf(".")!==-1)){result=result+pDura+c}else{result=result+pDura+(pDura*c)}result=result<0?0:result;return result},getOrderNumber:function(a){if(a.hasAttribute("data-order")){let num=Number(a.getAttribute("data-order"));return num>=0?num:Math.pow(2,53)-1+num}else{return Math.pow(2,52)-1}},setAttrPtoC:function(e,d,b,a,c){if(b.hasAttribute(a)){if(!e.hasAttribute(d)){e.setAttribute(d,b.getAttribute(a))}}else{if(c!==false){e.setAttribute(d,c)}}},getAttr:function(c,a,b){if(c.hasAttribute(a)){return c.getAttribute(a)}else{return b}},getOffsetTop:function(a){let rect=a.getBoundingClientRect();let scrollTop=window.pageYOffset||document.documentElement.scrollTop;return rect.top+scrollTop},setClassNames:function(b,a){if(!a){return}let classNamesArr=a.split(" ");for(let i=0;i<classNamesArr.length;i++){b.classList.add(classNamesArr[i])}},setQuery:function(){$q={};for(let i=0;i<$e.length;i++){let elm=$e[i];let group=elm.group?elm.group:"$"+$f.getOffsetTop(elm.elm);if(elm.elm.hasAttribute("data-show")){continue}if(typeof $q[group]==="undefined"){$q[group]=[]}$q[group].push(elm)}},runQuery:function(){let groups=Object.keys($q);for(let i=0;i<groups.length;i++){let elms=$q[groups[i]];if($f.isElementIn(elms[0].elm)){if(elms[0].sort==="reverse"){elms.reverse()}else{if(elms[0].sort==="random"){$f.randElements(elms)}}$f.sortElements(elms,["order"]);let interval=0;for(let j=0;j<elms.length;j++){(function(a){elms[a].elm.setAttribute("data-show","true");$f.setClassNames(elms[a].elm,elms[a].addClass);interval=$f.setDurationValue(interval,elms[a-1],elms[a].interval);elms[a].elm.style.animationName=elms[a].cue;elms[a].elm.style.animationDuration=elms[a].duration+"ms";elms[a].elm.style.animationTimingFunction="ease";elms[a].elm.style.animationDelay=interval+"ms";elms[a].elm.style.animationDirection="normal";elms[a].elm.style.animationFillMode="both"})(j)}delete $q[groups[i]]}}},isElementIn:function(a){return(window.pageYOffset>$f.getOffsetTop(a)-window.innerHeight*$op.percentage)||$f.isScrollEnd()},isScrollEnd:function(){let body=window.document.body;let html=window.document.documentElement;let scrollTop=body.scrollTop||html.scrollTop;return scrollTop>=html.scrollHeight-html.clientHeight}};return{init:function(a){$op=$f.setOptions($defaultOptions,a);$f.setEvents();$f.searchElements();$f.setQuery()},update:function(){$f.searchElements();$f.setQuery();$f.runQuery()}}})();